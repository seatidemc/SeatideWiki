---
date: 2021/08/31
author: Subilan
---

# 运营理念

SEATiDE 建立的初衷，是创建一个**低成本**、**可由玩家主导和管理的**高版本模组服务器。其技术基础是阿里云开放的 API 和抢占式 ECS。本文将介绍服务器运行部分技术细节以及我们想要对外倡导的一些基本思想。

:::warning
当然，这些思想是**实验性**的，具体可行性以及回报**并没有经过大量的测试**，SEATiDE 目前的服务器运行在这种实验性的方法上。
:::

## 低成本：阿里云抢占式 ECS 简介

ECS 是指 **E**lastic **C**ompute **S**ervice，即弹性计算服务，一般用于指我们常说的**云服务器**。在阿里云上，云服务器有三种买法，第一种是包年包月，第二种是按量付费，第三种是抢占式，我们使用的正是第三种。

抢占式和按量付费有一点类似，都不是**一次性买断**而是**后付费**。三种买法的对比情况如下：
- 在有*足够预算*的基础上，使用**包年包月**是最为稳定且推荐的方式，因为这就相当于你完全拥有了它的使用权。但是这样成本是最高的，加上 Minecraft 小型服务器很难达到令人满意的人数并稳定持续一段时间，所以这种方式的效率也是最低的
- **按量付费**提供了更低的成本，按固定的周期对实例的不同部分分别计费（参阅[官方文档](https://help.aliyun.com/document_detail/40653.html)），然后从账户的余额中扣款
- **抢占式**提供了比按量付费更低的成本，但（目前）只能保证稳定持有一个小时，超出这一小时以后的收费情况不确定（随时扣款，扣款数额不定，但一般在第一个小时的价格周围波动）

以我们当前使用的 `ecs.g6.xlarge`（20GB 系统盘 ESSD，30GB 数据盘 ESSD）为例：
- 包月的价格为 $￥530/\mathrm{30d}$
- 按量付费的价格是 $￥1.105/\mathrm{h}$，也就是 $￥795.6/30\mathrm{d}$
- 抢占式实例的首小时价格是 $￥0.205/\mathrm{h_{1st}}$，可折合为 $￥147.6/\mathrm{30d}$

对比可以发现，**按量付费**应用的场景应该是短期使用（少于一个月），而不是长期开着节省成本（否则，这就是一种稳妥妥的超越包月效率的方式）。所以抢占式实例从综合上来讲是效率最高的。

:::warning
**不同地域间有价格差异**

抢占式实例在同一地区的不同地域的收费价格并不一样，为了节省成本，我们需要自行前往购买界面进行筛选。

例如同样是华北 2 北京地区，可用区 A 等收费为 $￥0.205/\mathrm{h_{1st}}$，可用区 K、H 等收费为 $￥0.225/\mathrm{h_{1st}}$，可用区 L 等收费为 $￥0.326/\mathrm{h_{1st}}$，随机分配（并没有找到是哪个特定的区域）的收费为 $￥1.025/\mathrm{h_{1st}}$。
:::

:::danger
**抢占式实例不稳定的收费**

之所以对抢占式有所顾虑，是因为其不稳定的收费。抢占式实例存在的本因是有些人只需要很短一段时间的高算力，所以可以只掏**最高不到 100 元**买到它（比如 300GB+ 内存的裸金属服务器，仅需约 $￥40/\mathrm{h_{1st}}$），并使用**一个小时**（配置越高，这个时间限制就越无所谓）。

对于超过一个小时的使用，将会根据市场供需结构、库存等多种因素来决定何时收费、收费多少。根据 2021 年上半年两次开服的统计，其最短收费周期可达**一分钟**，收费数额极差达 $￥0.49$。但根据长期的数据来看，效率依然是最高的。
:::

我们还可以让效率更高——防止空转。Minecraft 服务器亏损的最重要原因，笔者猜想应该就是服务器的空转，尤其是开学季等时期。服务器空转所对应的现实问题则是将钱花在了不需要的地方，导致资金的浪费。

如果我们能开辟出一种方法，将服务器空闲的钱节省下来，那岂不是效率更高？幸运的是，阿里云为我们提供了解决方案，其对外提供的 API 应有尽有，只需要一对 AccessKeyId 和 AccessKeySecret 即可控制自己账号上的所有相关操作，比如：

- 创建一台新的实例
- 删除一个实例
- 关闭一个实例
- 开启一个实例
- 为实例分配一个 IP
- ···

这些操作都可以直接用代码来实现。那么我们不妨联想：是否可以做出一个 Minecraft 插件，检测服务器人数，如果服务器人数为 0 达到 $n$ 秒，就立即关闭服务器。而如果有玩家想要玩服务器，可以通过特定的平台再次开启？

答案是肯定的，SEATiDE 目前就运行在这种机制上。具体的实现，可以参考我们的 GitHub 仓库。

- 自动关服插件 — [server-core](https://github.com/seatidemc/server-core)
- 阿里云控制 RESTful API — [backend](https://github.com/seatidemc/backend)
- 玩家控制终端 TiDELab — [ui](https://github.com/seatidemc/ui)
- OSS 控制和备份 - [oss](https://github.com/seatidemc/oss)

:::tip
**这种方式并不适合所有服务器**

由于这种方式相当于是交付给了玩家部分服务器的控制权，势必会导致用户或者服主层面接受程度的差异。

因而这种情况只适合**能够沉下心来玩游戏并互相交流**的玩家，而不是盗版快餐服的玩家。快餐服必须保证长期正常运行，才能让用户感受到「这个服务器随时都在开着」，才能有一种「快餐」感，是绝对不能将服务器的部分控制权直接交付玩家的。

而我们想出的这种方法是面向于认真玩游戏的玩家的，大家的目的只有一个，就是开心。
:::

基本原理是
1. 将服务器的完全备份（一般比较大）或者初始结构上传到 OSS 上某一特定文件夹内
2. 每次服务器开启时，通过 API 执行脚本，拉取此文件夹并进行一些基础配置（例如自动备份的部署、JRE 的安装等）
3. 启动服务器，接受玩家。当插件检测到空闲时间达到阈值时，执行备份脚本，然后释放实例。

当下一次再开启实例时，就从步骤 2 开始执行，如此循环。每次备份的过程均通过 [ossutil](https://github.com/aliyun/ossutil) 经**内网**快速复制到 OSS 上来完成。

:::warning
为了使用内网，必须将 ECS 和 OSS 放在同一地区内。一般先看好 ECS，然后再买 OSS。
:::

以上就是对「低成本」运营形式的介绍。收费的统计数据将会在足够时在 Wiki 上放出。

## 玩家主导：民主和自动化

### 民主：选择玩家想玩的模组

SEATiDE 提倡由**玩家主导周目内容**的民主制度。每一个周目开始之前，我们将会给出一个个主题，玩家可以在主题中联想、提议模组。SEATiDE 管理成员也会以普通玩家的身份参与讨论。讨论的形式可以是语音或者文本，SEATiDE 推荐语音交流。

当某一模组的支持率较高，且经过测试（包含：客户端运行测试、服务端运行测试和服务端功能测试）没有出现问题，即可正式成为这一周目的模组。如果该模组对应的功能较为基础，也有可能成为**常驻模组**，即每个周目都大概率会加上的基础模组。

我们相信，在模组领域，一个模组就对应了一类发展路线，只有让玩家选择自己想玩的，才能保持粘性。

### 自动化：玩家具有部分服务器的控制权

TiDELab 是我们设计给玩家的服务器控制平台（在将来可能发展更多业务），在该平台上可以查看服务器和实例的有关信息，也可以创建新的实例，管理员可以删除实例、控制实例的开启、关闭。

默认情况下，所有已在 TiDELab 注册且经过验证（保证该玩家是 SEATiDE 成员）的 SEATiDE 普通玩家均可以在实例被自动释放以后再手动开启。拥有管理员权限的玩家可以对实例进行更多的操作。部分功能会在将来推出。

## 165 主义

:::warning
165 主义由本服提出，没有任何说服的意图，下列文字仅供参考。
:::

**165 主义**是指认为**作为非全职服主**在 Minecraft 这款游戏上花钱**越少越好**的思想。Minecraft 本身作为一款人畜无害、买断制的游戏，十分受玩家的欢迎，并没有听说过多少人会因为不好玩而申请退款。而如今在多人游戏的领域，却有不少**普通人**为了开一个 Minecraft 服务器操心，并每个月付出数以百计，乃至成千上万的花费——165 主义认为，**这些花费不是作为一个正常的 Minecraft 玩家所应该付出的**。

165 主义相信部分服主开启服务器的动机是单纯的——可拓展、可经营的多人游戏（而不是官服或者领域服），同时也不否认开启服务器需要付出金钱。但 165 主义倡导在不大面积折损游戏体验的前提下，尽可能地降低在服务器上的花费（包括财产、精力等）。至于怎么降低，就是仁者见仁，智者见智的事情了。在 SEATiDE，165 主义集中体现在自动化运行机制上。

165 主义的核心思想可以概括为：

:::tip
对任意的 **Minecraft 非全职开服爱好者**（排除快餐服或无良服主），在不大面积折损服务器游戏体验和整体质量的情况下，应当尽可能地降低在 Minecraft 服务器上的财产、精力花费。
- 应当尽可能地取之于玩家，用之于玩家
- 应当明确**玩游戏是为了快乐**地观点
- 不应将 Minecraft 服务器看作事业（即不提倡成为全职服主）
- 不应将 Minecraft 服务器看作摇钱树
- 不应将 Minecraft 看作 GOL（***Goal of Life***，生活的目标）
:::